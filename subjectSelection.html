<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Subject Ticker</title>
  <link rel="stylesheet" href="style.css">
  <style>
    .ticked p {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .cancel {
      background-color: red;
      color: white;
      border: none;
      padding: 2px 6px;
      cursor: pointer;
      border-radius: 4px;
    }
  </style>
</head>
<nav>
  <div class="logo"><a href="#">My projects</a></div>

  <div class="menu-toggle" onclick="toggleMenu()">
    <span></span>
    <span></span>
    <span></span>
  </div>

  <ul class="links" id="nav-links">
    <li><a href="index.html">Calculators</a></li>
    <li><a href="guessGame.html">Guess</a></li>
    <li><a href="History.html">Documentation</a></li>
    <li><a href="subjectSelection.html">Subject</a></li>
    <li><a href="hotelBooking.html">Hotel</a></li>
    <li><a href="form-validation.html">Form Validation</a></li>
    <li><a href="project-1.html">Uber</a></li>
    <li><a href="loopPm.html">primeNumber</a></li>
    <li><a href="aboutMe.html">About Me</a></li>
  </ul>

  <a href="aboutMe.html" class="action-btn">Get Started</a>
</nav>

<body>
  <div style="width: 100%; height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; color: white;">
    <div style="background-color: black; padding: 50px; border-radius: 30px;">
<h1>Available Subjects</h1>
  <div class="subjects" style="display: flex; flex-direction: column;">

    <label><input class="check" type="checkbox"><span>Math</span></label>
    <label><input class="check" type="checkbox"><span>English</span></label>
    <label><input class="check" type="checkbox"><span>Civic</span></label>
    <label><input class="check" type="checkbox"><span>Agric</span></label>
  </div>

  <h1>Registered Subject</h1>
  <div class="ticked"></div>
</div>
</div>

  <script>
    const ticked = document.querySelector('.ticked');
    const subjectsContainer = document.querySelector('.subjects');

    // Function to handle the change event for a checkbox
    function handleCheckboxChange(e) {
      if (e.target.checked) {
        const parent = e.target.parentElement;
        const span = parent.querySelector('span');
        const text = span.textContent;
        createTicked(text);
        parent.remove();
      }
    }

    function addListeners() {
      const boxes = document.querySelectorAll('.check:not([data-listener-attached])'); // Select only checkboxes without the data attribute
      boxes.forEach(box => {
        box.addEventListener('change', handleCheckboxChange);
        box.setAttribute('data-listener-attached', 'true'); // Mark as listener attached
      });
    }

    function createTicked(text) {
      const p = document.createElement('p');
      const span = document.createElement('span');
      span.textContent = text;

      const cancel = document.createElement('button');
      cancel.textContent = 'X';
      cancel.className = 'cancel';
      cancel.addEventListener('click', () => {
        moveBack(text, p);
      });

      p.appendChild(span);
      p.appendChild(cancel);
      ticked.appendChild(p);
    }

    function moveBack(subject, elementToRemove) {
      const label = document.createElement('label');
      // When re-adding, ensure the checkbox is unchecked and has no listener attached marker
      label.innerHTML = `<input class="check" type="checkbox"><span>${subject}</span>`;
      subjectsContainer.appendChild(label);
      ticked.removeChild(elementToRemove);
      addListeners(); // Reattach listeners to new and unattached checkboxes
    }

    addListeners(); // Initial call to set up listeners
    function toggleMenu() {
      const links = document.getElementById("nav-links");
      links.classList.toggle("active");
    }
  </script>

</body>
</html>